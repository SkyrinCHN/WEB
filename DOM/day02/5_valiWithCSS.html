<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  <title>实现带样式的表单验证</title>
  <link rel="Stylesheet" href="css/5.css" />
</head>

<body>
  <form id="form1">
    <h2>增加管理员</h2>
    <table>
      <tr>
        <td>姓名：</td>
        <td>
          <input name="username" />
          <span>*</span>
        </td>
        <td>
          <div class="vali_info">
            10个字符以内的字母、数字或下划线的组合
          </div>
        </td>
      </tr>
      <tr>
        <td>密码：</td>
        <td>
          <input type="password" name="pwd" />
          <span>*</span>
        </td>
        <td>
          <div class="vali_info">6位数字</div>
        </td>
      </tr>
      <tr>
        <td></td>
        <td colspan="2">
          <input type="submit" value="保存" />
          <input type="reset" value="重填" />
        </td>
      </tr>
    </table>
  </form>
  <script>
    //查找触发事件的元素
    var txtName = document.getElementsByName("username")[0];
    var txtPwd = document.getElementsByName("pwd")[0];
    //绑定事件
    txtName.onfocus = txtPwd.onfocus = function () {
      var txt = this;
      var divinfo = txt.parentNode.nextElementSibling.children[0];
      // console.log(divinfo);
      divinfo.className = "";
      txt.className = "txt_focus";
    }
    function vali(txt, reg) {
      txt.className = "";
      var divinfo = txt.parentNode.nextElementSibling.children[0];
      if (reg.test(txt.value)) {
        divinfo.className = "vali_success";
      }
      else {
        divinfo.className = "vali_fail";
      }
    }
    //查找修改元素的位置都一样的,就是正则不一样 把相同的封装起来
    txtName.onblur=function(){
      vali(this,/^\w{1,10}$/);
    }
    txtPwd.onblur = function(){
      vali(this,/^\d{6}$/);
    }
  </script>
</body>

</html>