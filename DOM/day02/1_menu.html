<!DOCTYPE html>
<html>
  <head>
    <title>1. 实现伸缩二级菜单</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="css/1.css" />
  </head>
  <body>
    <ul class="tree">
      <li>
        <span class="open">考勤管理</span>
        <ul>
          <li>日常考勤</li>
          <li>请假申请</li>
          <li>加班/出差</li>
        </ul>
      </li>
      <li>
        <span>信息中心</span>
        <ul>
          <li>通知公告</li>
          <li>公司新闻</li>
          <li>规章制度</li>
        </ul>
      </li>
      <li>
        <span>协同办公</span>
        <ul>
          <li>公文流转</li>
          <li>文件中心</li>
          <li>内部邮件</li>
          <li>即时通信</li>
          <li>短信提醒</li>
        </ul>
      </li>
    </ul>
    <script>
      //找到触发条件的标签
      // var spans = document.getElementsByTagName("span");
      // console.log(spans);
      var spans1 = document.querySelectorAll("ul.tree>li>span");
      console.log(spans1);
      for (var sp of spans1) {
        sp.onclick = function() {
          //如果当前状态是开着的,那就关掉
          if(this.className=="open"){
            //className为空就关闭
            this.className="";
          }else{
            var  openSpan = document.querySelector("ul.tree>li>span.open");
            if(openSpan!=null){
              openSpan.className="";
            } 
            this.className="open";
          }
        }
      }
    </script>
  </body>
</html>
