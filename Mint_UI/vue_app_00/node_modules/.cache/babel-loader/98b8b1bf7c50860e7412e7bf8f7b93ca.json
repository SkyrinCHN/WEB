{"remainingRequest":"/Users/liuhai/Desktop/WEB/Mint_UI/vue_app_00/node_modules/babel-loader/lib/index.js!/Users/liuhai/Desktop/WEB/Mint_UI/vue_app_00/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuhai/Desktop/WEB/Mint_UI/vue_app_00/src/components/goods/GoodsInfo.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/liuhai/Desktop/WEB/Mint_UI/vue_app_00/src/components/goods/GoodsInfo.vue","mtime":1547087248743},{"path":"/Users/liuhai/Desktop/WEB/Mint_UI/vue_app_00/node_modules/cache-loader/dist/cjs.js","mtime":1534853416000},{"path":"/Users/liuhai/Desktop/WEB/Mint_UI/vue_app_00/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/Users/liuhai/Desktop/WEB/Mint_UI/vue_app_00/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from \"mint-ui\"; //引入轮播图组件\n\nimport swipe from \"../sub/swipe\";\nexport default {\n  data: function data() {\n    return {\n      id: this.$route.params.id,\n      list: [],\n      val: 1,\n      info: {}\n    };\n  },\n  methods: {\n    getGoodsInfo: function getGoodsInfo() {\n      var _this = this;\n\n      var id = this.id;\n      var url = \"http://localhost:3000/getProduct?id=\" + id;\n      this.axios.get(url).then(function (result) {\n        _this.info = result.data.data;\n        console.log(_this.info);\n      });\n    },\n    // getGoodsInfo(){\n    //     //1:获取参数 id\n    //     var id = this.id;\n    //     //2:发送ajax请求获取商品信息\n    //     var url = \"http://127.0.0.1:3000/getProduct?id=\"+id;\n    //     this.axios.get(url).then(result=>{\n    //         this.info = result.data.data;\n    //     });\n    //   },\n    getImageList: function getImageList() {\n      var _this2 = this;\n\n      var url = \"http://localhost:3000/getGoodsInfo\";\n      this.axios.get(url).then(function (result) {\n        _this2.list = result.data;\n        console.log(_this2.list);\n      });\n    },\n    less: function less() {\n      if (this.val > 1) {\n        this.val--;\n      }\n    },\n    more: function more() {\n      if (this.val < 998) {\n        this.val++;\n      }\n    },\n    addCart: function addCart() {\n      var _this3 = this;\n\n      //参数 uid = 1 pid count price\n      var pid = this.id,\n          count = this.val,\n          price = 9.9,\n          uid = uid; //发送ajax请求将数据发送到服务器\n\n      var url = \"http://127.0.0.1:3000/addCart?pid=\" + pid + \"&count=\" + count + \"&price=\" + price + \"&uid=\" + uid;\n      this.axios.get(url).then(function (result) {\n        // console.log(result.data);\n        if (result.code > 0) {\n          //如果商品添加成功 修改全局共享变量 cartCount\n          _this3.$store.commit(\"increment\");\n\n          Toast(result.data.msg);\n        } else {\n          Toast(result.data.msg);\n        }\n      }); //获取返回结果\n      //显示提示信息\n    }\n  },\n  created: function created() {\n    this.getImageList();\n    this.getGoodsInfo();\n  },\n  components: {\n    \"swipe-box\": swipe\n  }\n};",{"version":3,"sources":["GoodsInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,SAAA,KAAA,QAAA,SAAA,C,CACA;;AACA,OAAA,KAAA,MAAA,cAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AAAA,UAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AAAA,YAAA,EAAA;AAAA,WAAA,CAAA;AAAA,YAAA;AAAA,KAAA;AACA,GAHA;AAIA,WAAA;AACA,gBADA,0BACA;AAAA;;AACA,UAAA,KAAA,KAAA,EAAA;AACA,UAAA,MAAA,yCAAA,EAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,cAAA,IAAA,GAAA,OAAA,IAAA,CAAA,IAAA;AACA,gBAAA,GAAA,CAAA,MAAA,IAAA;AACA,OAHA;AAIA,KARA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAlBA,0BAkBA;AAAA;;AACA,UAAA,MAAA,oCAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,eAAA,IAAA,GAAA,OAAA,IAAA;AACA,gBAAA,GAAA,CAAA,OAAA,IAAA;AACA,OAHA;AAIA,KAxBA;AAyBA,QAzBA,kBAyBA;AACA,UAAA,KAAA,GAAA,GAAA,CAAA,EAAA;AACA,aAAA,GAAA;AACA;AACA,KA7BA;AA8BA,QA9BA,kBA8BA;AACA,UAAA,KAAA,GAAA,GAAA,GAAA,EAAA;AACA,aAAA,GAAA;AACA;AACA,KAlCA;AAmCA,WAnCA,qBAmCA;AAAA;;AACA;AACA,UAAA,MAAA,KAAA,EAAA;AAAA,UACA,QAAA,KAAA,GADA;AAAA,UAEA,QAAA,GAFA;AAAA,UAGA,MAAA,GAHA,CAFA,CAMA;;AACA,UAAA,MACA,uCACA,GADA,GAEA,SAFA,GAGA,KAHA,GAIA,SAJA,GAKA,KALA,GAKA,OALA,GAKA,GANA;AAOA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA;AACA,YAAA,OAAA,IAAA,GAAA,CAAA,EAAA;AACA;AACA,iBAAA,MAAA,CAAA,MAAA,CAAA,WAAA;;AACA,gBAAA,OAAA,IAAA,CAAA,GAAA;AACA,SAJA,MAIA;AACA,gBAAA,OAAA,IAAA,CAAA,GAAA;AACA;AACA,OATA,EAdA,CAwBA;AACA;AACA;AA7DA,GAJA;AAmEA,SAnEA,qBAmEA;AACA,SAAA,YAAA;AACA,SAAA,YAAA;AACA,GAtEA;AAuEA,cAAA;AAAA,iBAAA;AAAA;AAvEA,CAAA","sourcesContent":["<template>\n  <div class=\"goods-info\">\n    <swipe-box :list=\"list\"></swipe-box>\n    <div class=\"mui-card\">\n      <div class=\"mui-card-header\">{{info.name}}</div>\n      <div class=\"mui-card-content\">\n        <div class=\"mui-card-inner\">\n          <div class=\"price\">\n            <p>\n              市场价:\n              <del>¥{{info.price}}</del>\n            </p>\n            <p>\n              优惠价:\n              <span>¥{{info.price*.88}}</span>\n              <span class=\"cheap\">Just Today</span>\n            </p>\n          </div>\n          <div class=\"mui-numbox\" data-numbox-min=\"1\" data-numbox-max=\"9\">\n            <button class=\"mui-btn mui-btn-numbox-minus\" type=\"button\" @click=\"less\">-</button>\n            <input id=\"test\" class=\"mui-input-numbox\" type=\"number\" v-model=\"val\">\n            <button class=\"mui-btn mui-btn-numbox-plus\" type=\"button\" @click=\"more\">+</button>\n          </div>\n        </div>\n      </div>\n      <div class=\"mui-card-footer\">\n        <!-- <mt-button size=\"small\" type=\"danger\" class=\"buy\">立即购买</mt-button> -->\n        <button class=\"buy\">立即购买</button>\n        <!-- <mt-button size=\"small\" type=\"primary\">加入购物车</mt-button> -->\n        <button class=\"in-cart\" @click=\"addCart\">加入购物车</button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { Toast } from \"mint-ui\";\n//引入轮播图组件\nimport swipe from \"../sub/swipe\";\nexport default {\n  data() {\n    return { id: this.$route.params.id, list: [], val: 1, info: {} };\n  },\n  methods: {\n    getGoodsInfo() {\n      var id = this.id;\n      var url = \"http://localhost:3000/getProduct?id=\"+id;\n      this.axios.get(url).then(result => {\n         this.info= result.data.data\n        console.log(this.info);\n      });\n    },\n    // getGoodsInfo(){\n    //     //1:获取参数 id\n    //     var id = this.id;\n    //     //2:发送ajax请求获取商品信息\n    //     var url = \"http://127.0.0.1:3000/getProduct?id=\"+id;\n    //     this.axios.get(url).then(result=>{\n    //         this.info = result.data.data;\n    //     });\n    //   },\n    getImageList() {\n      var url = \"http://localhost:3000/getGoodsInfo\";\n      this.axios.get(url).then(result => {\n        this.list = result.data;\n        console.log(this.list);\n      });\n    },\n    less() {\n      if (this.val > 1) {\n        this.val--;\n      }\n    },\n    more() {\n      if (this.val < 998) {\n        this.val++;\n      }\n    },\n    addCart() {\n      //参数 uid = 1 pid count price\n      var pid = this.id,\n        count = this.val,\n        price = 9.9,\n        uid =uid;\n      //发送ajax请求将数据发送到服务器\n      var url =\n        \"http://127.0.0.1:3000/addCart?pid=\"+ \n        pid +\n        \"&count=\" +\n        count +\n        \"&price=\" +\n        price+\"&uid=\"+uid;\n      this.axios.get(url).then(result => {\n        // console.log(result.data);\n        if (result.code > 0) {\n          //如果商品添加成功 修改全局共享变量 cartCount\n          this.$store.commit(\"increment\");  \n          Toast(result.data.msg);\n        } else {\n          Toast(result.data.msg);\n        }\n      });\n      //获取返回结果\n      //显示提示信息\n    }\n  },\n  created() {\n    this.getImageList();\n    this.getGoodsInfo();\n  },\n  components: { \"swipe-box\": swipe }\n};\n</script>\n<style scoped>\n.mui-card-footer button {\n  border: 1px solid #e83632;\n  color:#e83632;\n  background: #fff;\n  border-radius: 4px;\n  width: 159px;\n  height: 40px;\n}\n.mui-card-footer button:hover{\n  background: #e83632;\n  color: #fff;\n}\n.mui-card-footer .in-cart {\n  background: #fff;\n  color:#26a2ff;\n  border: 1px solid #26a2ff;\n}\n.goods-info .mui-card-inner .price span{\n  color: #e83632;\n  font-size: 20px;\n}\n.goods-info .mui-card-inner .price span.cheap{\n  margin-left: 80px;\n  font-size: 30px;\n  font-family:Hurricane;\n}\n</style>\n"],"sourceRoot":"src/components/goods"}]}